# Plasmo FullRP Payments

Программа для цикла приёма пожертвования и исполнения RCON запроса.

## Установка

Переименуйте config.js.example в config.js. Введите данные в конфиг файл, установите записимости и запустите программу.

```bash
npm ci
npm run prod
```

## Функции

### Просмотр пожертвований Donation Alerts

Программа при запуске смотрит все пожертвования, а во время работы только последнюю страницу каждые 5 секунд (по умолчанию). Новые добавляет в базу данных.

### Исполнение команд через RCON

Исполнение RCON команды. Доступные перменные: `${user}`.

### Дискорд логгер через вебхук

Пишет логи в канал в дискорде. По умолчанию, отправляет либо каждые 10 секунд, либо каждые 0.5, если в сообщении больше 120 символов.

### Веб-сервер для просмотра информации платежей

Порт по умолчанию: 4488

GET / - возвращает привет

GET /payments/last - возвращает сводку платежей с начала настоящего месяца

GET /payments/past- возвращает сводку платежей с начала прошлого месяца
